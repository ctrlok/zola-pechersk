@use 'tokens' as *

@keyframes folded-pulse
  0%
    opacity: $pulse-opacity-min
    transform: scaleX($folded-pulse-scale)
  100%
    opacity: $pulse-opacity-max
    transform: scaleX($pulse-scale-max)

.folded
  position: relative
  margin: var(--size-2) 0
  
  // Minimalistic paradise - almost invisible until needed
  background: var(--surface-1)
  border-radius: var(--radius-1)

  .folded-header
    padding: var(--size-3) var(--size-4)
    cursor: pointer
    display: flex
    justify-content: space-between
    align-items: center
    
    // Zen-like typography
    font-size: var(--font-size-1)
    font-weight: var(--font-weight-4)
    line-height: var(--font-lineheight-2)
    color: var(--text-2)
    user-select: none

    .folded-arrow
      // Whisper-quiet indicator
      color: var(--text-3)
      font-size: var(--font-size-0)
      font-weight: var(--font-weight-6)
      line-height: 1
      transition: transform $animation-duration-medium $animation-easing-default

  .folded-content
    max-height: 0
    overflow: hidden
    padding: 0 var(--size-4)
    opacity: 0
    background: var(--surface-1)
    transition: max-height $animation-duration-slow $animation-easing-in-out, padding $animation-duration-medium $animation-easing-default, opacity $animation-duration-medium $animation-easing-default

    p:first-child
      margin-top: 0

    p:last-child
      margin-bottom: 0

  &.active
    .folded-header
      color: var(--text-1)
    
    .folded-arrow
      transform: rotate(180deg)
      color: var(--text-2)

    .folded-content
      max-height: $folded-max-height
      padding: var(--size-3) var(--size-4) var(--size-4) var(--size-4)
      opacity: 1
      overflow: auto

// Responsive - maintain minimal approach
@media screen and (max-width: $breakpoint-tablet)
  .folded
    margin: var(--size-1) 0

    .folded-header
      padding: var(--size-2) var(--size-3)